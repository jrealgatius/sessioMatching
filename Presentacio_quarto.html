<!DOCTYPE html>
<html lang="en"><head>
<script src="Presentacio_quarto_files/libs/clipboard/clipboard.min.js"></script>
<script src="Presentacio_quarto_files/libs/quarto-html/tabby.min.js"></script>
<script src="Presentacio_quarto_files/libs/quarto-html/popper.min.js"></script>
<script src="Presentacio_quarto_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Presentacio_quarto_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Presentacio_quarto_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="Presentacio_quarto_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.0.36">

  <meta name="author" content="Jordi Real   jreal@idiapjgol.info">
  <title>Métodos de emparejamiento (Matching)</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Presentacio_quarto_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Presentacio_quarto_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="Presentacio_quarto_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link rel="stylesheet" href="logo.css">
  <link href="Presentacio_quarto_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Presentacio_quarto_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Presentacio_quarto_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Presentacio_quarto_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  
  <script src="Presentacio_quarto_files/libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="Presentacio_quarto_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Métodos de emparejamiento (Matching)</h1>
  <p class="subtitle">En grandes bases de datos</p>
  <p class="author">Jordi Real <br> jreal@idiapjgol.info</p>
  <p class="institute">IDIAP- Jordi Gol <br> USR-BCN. Grup DAP-Cat</p>
</section>

<section class="slide level2">

<div class="cell">

</div>
</section>
<section id="métodos-de-matching" class="slide level2">
<h2>Métodos de Matching</h2>
<p><strong>Jordi Real - 2022</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/Tesis_caratula.png" style="width:100.0%;height:100.0%"></p>
</figure>
</div>
<aside class="notes">
<p>Desde que me dedico a esto de la estadística siempre me ha gustado lo que es el diseño, y de hecho en la carrera entre las asignaturas relativas a diseño, como técnicas de muestreo, diseño de experimentos i epidemiologia. Fueron las que tuve más interes</p>
<p>Cuándo trabajé en el hospital como hacia un poco todo consultor i assesor i analisis, también ayudava a optimizar diseños en el laboratorio</p>
<p>Después me incorporé en el IDIAP, i ya en Lleida me se hacian estudios con grandes bases de datos, vinculando Datos de la historia clínica, hospital, i farmacia.</p>
<p>I cuando me decidí por la tesis, tenia muy claro que queria hacer algo relacionado con este tema</p>
<p>Intentaré explicar / compartir un poco de introducción de estos métodos</p>
<p>He de decir que siempre me considero un estadístico aplicado, poco teorico, i tengo un cierta Deformación professional.</p>
<p>Esto tiene una parte buena i una mala .</p>
<ul>
<li>No pongo demasiadas formulas,</li>
<li>No soy 100% Formal a nivel Matematico.</li>
</ul>
<p>Espero explicarme y que algunos conceptos queden medianamente claros y tener tiempo</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="guión" class="slide level2">
<h2>Guión</h2>
<p><strong>¿Por qué? ¿Como? ¿Cuándo?</strong></p>
<div class="fragment">
<ul>
<li><p>Introducción</p>
<ul>
<li>Confusión</li>
<li>Métodos de ajuste</li>
<li>Comparativa</li>
</ul></li>
<li><p>Métodos de matching</p>
<ul>
<li>Proceso</li>
<li>Distancias, algoritmos y Validación</li>
<li>Herramientas y grados de libertad</li>
</ul></li>
<li><p>Conclusiones / Resumen</p>
<ul>
<li>Cuándo aplicarlo</li>
<li>Resumen</li>
</ul></li>
</ul>
</div>
</section>
<section id="introducción" class="slide level2">
<h2>Introducción</h2>
<div>
<p><strong>Aspecto más importante de una investigación?</strong></p>
</div>
<div class="fragment">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/diana1.jpg" style="width:40.0%;height:40.0%"></p>
</figure>
</div>
</div>
<aside class="notes">
<p>Cual es?</p>
<ul>
<li>El pressupuesto o viabilidad?</li>
<li>El Estadístico</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="cell" data-layout-align="center">

</div>
</section>
<section id="introducción-1" class="slide level2">
<h2>Introducción</h2>
<p>Estudio CVD-Real</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/CVDReal_global.png" style="width:50.0%;height:50.0%"></p>
</figure>
</div>
<aside class="notes">
<p>Objetivo real fué:</p>
<ul>
<li><p>Evaluar si un tipo de antidiabetico, mas nuevo llamado ISGLT2 que actua sobre la disponibilidad de la glucosqa i favorecen su eliminación renal (Farmacos más nuevos) tienen cierto efecto protector sobre el riesgo CV, en comparación con otro tipo, como el GLP1 , más antiguos , que actuan sobre la insulina.</p></li>
<li><p>Este estudio fué una colaboración internacional donde cada pais hacia su propio analisis y después se enviava a global i ellos hacian un metaanalisis</p></li>
<li><p>Cohorte retrospectiva donde se comparaban eventos CV de dos grupos que iniciavan distintos antidiabeticos</p></li>
<li><p>De la N global, SIDIAP, con nuestro analisis aportamos unos 12000 episodios</p></li>
<li><p>I después publicamos nuestros datos</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="introducción-2" class="slide level2">
<h2>Introducción</h2>
<p>Estudio CVD-Real Catalonia</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/CVDReal_Catalonia.png" style="width:60.0%;height:50.0%"></p>
</figure>
</div>
<aside class="notes">
<ul>
<li>Otro ejemplo fué</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="cell">

</div>
</section>
<section id="introducción-3" class="slide level2">
<h2>Introducción</h2>
<p>Estudio Cuidadores</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/Article_cuidador.png" style="width:75.0%;height:75.0%"></p>
</figure>
</div>
<div class="cell" data-layout-align="center">

</div>
<aside class="notes">
<ul>
<li><p>Este estudio si que lo incluí en la tesis como resultado cuando estuve a la universidad</p></li>
<li><p>Cual era el objetivo real?</p></li>
<li><p>Objetivo real: Evaluar el impacto sobre la salud mental (Ansiedad, depresión etc..) con estar en una situación de cuidador informal</p></li>
<li><p>Este estudio entraremos más en el detalle</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ejemplo" class="slide level2">
<h2>Ejemplo</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p><strong>Estudio Cuidadores</strong></p>
</div><div class="column" style="width:40%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="figures/Relacion_XY.png" width="126"></p>
</div>
</div>
</div>
</div>
<div>
<ul>
<li class="fragment"><p>Método:</p>
<ul>
<li class="fragment">ENSE: Encuesta nacional de salud española. 20.000 hogares</li>
<li class="fragment">Se identificó <strong>515</strong> personas en situación de cuidador informal (superior al año)</li>
<li class="fragment">Resultados en Salud: Diagnostico depresión, Ansiedad, Calidad de vida, Estado de salud percibido, soporte social</li>
</ul></li>
</ul>
</div>
<aside class="notes">
<ul>
<li><p>Por lo tanto. Ambos estudios son estudios donde el interes es evaluar una associación X –&gt; Y</p></li>
<li><p>El de los antidiabeticos. Evaluar la relación de un antidiabetico con eventos CV</p></li>
<li><p>I el de los cuidadores medir y evaluar una situación de cuidador con unos resultados en salud</p></li>
<li><p>Aquí entraremos más en el detalle</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ejemplo-1" class="slide level2">
<h2>Ejemplo</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p><strong>Enfoque analítico básico</strong></p>
</div><div class="column" style="width:40%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="figures/Relacion_XY.png" width="126"></p>
</div>
</div>
</div>
</div>
<div>
<ul>
<li class="fragment">P(Depresion / Cuidador) = 16% (n=515)</li>
<li class="fragment">P(Depresión / Resto) = 8.4% (n=19.500)</li>
<li class="fragment">Medida de asociación : OR = 2.03 (CI95: 1.7 - 2.5)</li>
</ul>
</div>
<aside class="notes">
<ul>
<li><p>Un primer analisis más intuitivo seria el siguiente</p></li>
<li><p>Calcular / estimar, el % de Depresión en los Cuidadores (Aprox 515)</p></li>
<li><p>I en el Resto de personas (19500)</p></li>
<li><p>Esto represeta que los cuidadores casi doblan en % de depresión respecto el resto</p></li>
<li><p>La medida de asociación “estrella” / mas conocida seria el OR, el cual en este caso seria de 2.03.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="introducción-4" class="slide level2">
<h2>Introducción</h2>
<div>
<p>Preguntas</p>
<ul>
<li class="fragment">Puedo comparar resultados en salud de los 515 cuidadores con el resto 19.514 no cuidadores?</li>
<li class="fragment">Son comparables?</li>
<li class="fragment">Veamos la diferencia en edad entre los cuidadores versus los no-cuidadores</li>
<li class="fragment">Los cuidadores 7.3 años mayores que los no cuidadores</li>
</ul>
</div>
<div class="fragment">
<div id="fig-elephants" class="quarto-layout-panel">
<figure>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-boxplot" class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/box_plot.png" data-ref-parent="fig-elephants"></p>
<p></p><figcaption>(a) Boxplot</figcaption><p></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-grafo" class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/grafo1.png" data-ref-parent="fig-elephants"></p>
<p></p><figcaption>(b) Grafo</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption>Figure 1: DAG</figcaption><p></p>
</figure>
</div>
</div>
<aside class="notes">
<ul>
<li><p>El odds Ratio de 2 que hemos visto antes podria estar afectado , totalmete o en parte, por el hecho de que los cuidadores són como mínimo 7 años mayores. Por lo tanto no sabemos que parte es debida viene por la edad o que parte biene por el hecho de ser cuidador.</p></li>
<li><p>Esto es lo que conocemos como factor de confusión. Concepto ampliamente conocido en estadística i epidemiologia</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sesgo-de-confusión" class="slide level2">
<h2>Sesgo de confusión</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p><strong>Sesgo de confusión</strong></p>
</div><div class="column" style="width:40%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/grafo1.png" width="150" height="100"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<ul>
<li><p>Habitual en estudios observacionales</p></li>
<li><p>Confusión: “mezcla” o “difuminación” de efectos</p></li>
<li><p>Se trata de relacionar una exposición a un resultado</p></li>
<li><p>En realidad mide el efecto de un tercer factor (la variable de confusión)</p></li>
<li><p>Distorsiona la medida de la asociación entre otras dos variables</p></li>
<li><p>El resultado en presencia de una variable de confusión puede ser la observación de:</p>
<ol type="1">
<li>Efecto donde en realidad no existe (Asociación espuria)</li>
<li>Exageración o atenuació d’una asociación real (confusión positiva)</li>
<li>Inversión del sentido de una asociación real (confusión negativa)</li>
</ol></li>
</ul>
</section>
<section id="métodos-de-ajuste" class="slide level2">
<h2>Métodos de ajuste</h2>
<div>
<ul>
<li class="fragment"><p>Restricción (Diseño)</p></li>
<li class="fragment"><p>Anticipación de confusores potenciales (Diseño)</p></li>
<li class="fragment"><p>Estratificación por confusor/es (Análisis):</p>
<ul>
<li class="fragment"><p><span style="color: green">Simple</span></p></li>
<li class="fragment"><p><span style="color: red">Difícil con muchas covariables</span></p></li>
</ul></li>
<li class="fragment"><p>Técnicas de estandarización (Análisis)</p></li>
<li class="fragment"><p>Métodos de regresión (Ajuste por covarianza) (Análisis)</p>
<ul>
<li class="fragment"><p><span style="color: green">Mayor potencia estadística</span></p></li>
<li class="fragment"><p><span style="color: red">Técnico</span></p></li>
<li class="fragment"><p><span style="color: red">Asunciones de modelos</span></p></li>
</ul></li>
</ul>
</div>
<aside class="notes">
<ul>
<li><p>Como arreglamos esto?</p></li>
<li><p>Tambien existen tecnicas muy conocidas, algunas de ellas serian:</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="modelos-de-regressión" class="slide level2">
<h2>Modelos de regressión</h2>
<p><strong>Asunciones sobre modelos</strong></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/Perfect_model.jpg" width="396"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<ul>
<li><p>Cuales son las asumciones sobre los modelos?</p></li>
<li><p>Aquí tenemos este MEME que representa el modelo perfecto però hay que tener cuidado por culpa de:</p></li>
<li><p>Multicolinealidad , heterocestadicidad, autocorrelación residual, etc..</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="modelos-de-regressión-1" class="slide level2">
<h2>Modelos de regressión</h2>
<p><strong>Asunciones sobre modelos de regressión</strong></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/Risk_regression_model.jpg" width="414"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<ul>
<li><p>Además de los outliers i la Nonlinealidad</p></li>
<li><p>todo esto es como una Amenaza que aveces puede poner en duda las inferencias realizadas a través de los modelos</p></li>
<li><p>Este tema parece que a veces no se le da importancia que tiene, pero si que ultimamente me encuentro com mas revisiones</p></li>
<li><p>Si se</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="modelos-de-regressión-2" class="slide level2">
<h2>Modelos de regressión</h2>
<p><strong>Asunciones sobre modelos de regression</strong></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="figures/Hienes_menjen_carn.jpg" style="width:100.0%;height:100.0%"></p>
</div><div class="column" style="width:50%;">

</div>
</div>
<aside class="notes">
<p>Que es esto?</p>
<p>Potencial carnaza para revisores, aunque no tendria que ser la principal preocupación</p>
<p>Más adelante veremos possibles consecuencias</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="modelos-de-regressión-3" class="slide level2">
<h2>Modelos de regressión</h2>
<p><strong>Asunciones sobre modelos de regression</strong></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="figures/Hienes_menjen_carn.jpg" style="width:100.0%;height:100.0%"></p>
</div><div class="column" style="width:50%;">
<div style="font-size: 0.6em; text-align: left">
<p><strong>Reviewer #2: (27/09/2023)</strong> The paper is beautifully written and considers an important topic. Since this is a modelling study, including additional details on the models is necessary. My detailed comments follow.</p>
<ol type="1">
<li>For the univariate and multivariate (presumably multivariable) analyses mentioned on page 5, line 14 (or 28 with the journal’s numbering), please specify what kind of models were used, e.g.&nbsp;Poisson, Cox etc.</li>
<li>Please briefly describe what model <strong>assumption and goodness of fit</strong> checks were performed, and what the findings were (you could include details in supplementary material).</li>
<li>There are many variables included in the multivariable analyses - how were these selected, and what checks for <strong>collinearity</strong> were performed?</li>
</ol>
</div>
</div>
</div>
<aside class="notes">
<p>Algunas revisiones:</p>
<p>Estos aspectos aveces ignorados es possible carnaza de revisores aunque no tendria que ser la principal preocupación de un investigador</p>
<p>Más adelante veremos possibles consecuencias de ignorar estos aspectos</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ajuste-por-regressión" class="slide level2">
<h2>Ajuste por regressión</h2>
<p>Estudio cuidadores. <strong>Enfoque multivariable</strong></p>
<p>Ajuste multivariable mediante regressión logística</p>
<ul>
<li>Tener en cuenta la edad y otros factores asociados<sup>1</sup></li>
</ul>
<div>
<ul>
<li class="fragment">Medida de asociación <strong>no ajustada</strong>: OR= 2.03 (IC95%: 1.7 - 2.5)</li>
<li class="fragment">Medida de asociación <strong>ajustada</strong>: OR= 1.56 (IC95%: 1.21 - 2.04)</li>
</ul>
</div>
<div class="fragment">
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-left">
<figure>
<p><img data-src="figures/Relacion_XY.png"></p>
<p></p><figcaption>OR: 2.03; IC95%=(1,71-2,5)</figcaption><p></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-left">
<figure>
<p><img data-src="figures/grafo3.png"></p>
<p></p><figcaption>OR: 1.56; IC95%=(1.21-2.04)</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<!-- ::: aside -->
<!-- Ajustado por: Edad, sexo, Población, Composición familiar, Nivel educativo, Ingresos familiarias, clase social,,,,, -->
<!-- ::: -->
<aside><ol class="aside-footnotes"><li id="fn1" role="doc-endnote"><p>Ajustado por: Edad, sexo, Población, Composición familiar, Nivel educativo, Ingresos familiarias, clase social</p></li></ol></aside></section>
<section id="métodos-de-ajuste-1" class="slide level2">
<h2>Métodos de ajuste</h2>
<div class="fragment semi-fade-out">
<ul>
<li><p>Restricción (Diseño)</p></li>
<li><p>Anticipación de confusores potenciales (Diseño)</p></li>
<li><p>Estratificación por confusor/es (Análisis):</p>
<ul>
<li><p><span style="color: green">Simple</span></p></li>
<li><p><span style="color: red">Difícil con muchas covariables</span></p></li>
</ul></li>
<li><p>Técnicas de estandarización (Análisis)</p></li>
<li><p>Métodos de regresión (Ajuste por covarianza) (Análisis)</p>
<ul>
<li><p><span style="color: green">Mayor potencia estadística</span></p></li>
<li><p><span style="color: red">Técnico</span></p></li>
<li><p><span style="color: red">Asunciones de modelos</span></p></li>
</ul></li>
</ul>
</div>
<ul>
<li>Matching (Diseño / Análisis)</li>
</ul>
</section>
<section id="matching" class="slide level2">
<h2>Matching</h2>
<p><strong>En que consiste?</strong></p>
<p>Dada N, encontrar n (n&lt;N), tal que los grupos sean de igual o de similares características</p>

<img data-src="figures/Scatter_plot1.png" class="r-stretch"></section>
<section id="matching-1" class="slide level2">
<h2>Matching</h2>
<p><strong>En que consiste?</strong></p>
<p>Dada N, encontrar n (n&lt;N), tal que los grupos sean de igual o de similares características</p>

<img data-src="figures/Scatter_plot2.png" class="r-stretch"></section>
<section id="estudio-cuidadores" class="slide level2">
<h2>Estudio cuidadores</h2>
<p><strong>Comparativa entre métodos</strong></p>
<ul>
<li>Medida de asociación <strong>no ajustada</strong>: OR= 2,03 (IC95%: 1,7 - 2,5)</li>
<li>Medida de asociación <strong>ajustada según regressión</strong>: OR= 1,56 (IC95%: 1,21 - 2,04)</li>
<li>Medida de asociación <strong>según método de matching</strong>: OR = 1,34 (IC95%: 1,02 - 1,76)</li>
</ul>
<div class="fragment">
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-left">
<figure>
<p><img data-src="figures/grafo2.png"></p>
<p></p><figcaption>OR: 1.34; IC95%=(1,02-1,76)</figcaption><p></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-left">
<figure>
<p><img data-src="figures/grafo3.png"></p>
<p></p><figcaption>OR: 1.56; IC95%=(1.21-2.04)</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="por-que" class="slide level2">
<h2>¿Por que?</h2>
<p><strong>La prueba del algodón. Estudio de simulación</strong></p>
<div>
<ul>
<li class="fragment"><p>Objetivo: Comparar la corrección del <strong>sesgo de confusión</strong> entre distintas aproximaciones mediante un estudio de simulación</p></li>
<li class="fragment"><p>En una situación controlada donde conocemos la realidad</p></li>
<li class="fragment"><p>Generamos 7500 muestras simuladas de tamaño grande (n=10.000) tal que:</p></li>
</ul>
</div>
<div class="fragment">
<p><img data-src="figures/grafo_simulacio.png" data-align="center"></p>
</div>
<aside class="notes">
<p>Por que se prefiere este tipo de aproximación? en algunos casos.</p>
<p>Por ejemplo el estudio CVD Real Global, con un promotor importante elijió este tipo de aproximación?</p>
<p>Voy a presentar algunos resultados de un estudio de mi tesis</p>
<ul>
<li><p>Planteamos distintos escenarios y generamos muestras simuladas segun los siguientes escenarios:</p></li>
<li><p>Una Exposición X dicotomica independiente de Y (Outcome binario) (OR=1, Efecto nulo)</p></li>
<li><p>Por ejemplo: Hipotesis Fans Messi, les gusta el futbol, fans Almodovar / Chocolate / Canas –&gt; Depresión?</p></li>
<li><p>Una Variable confusora Z, continua, generada según ~ N(mu, sd); Z ~ X según cierto nivel de asociación (r=0.5 y 0.3)</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="estudio-de-simulación" class="slide level2">
<h2>Estudio de simulación</h2>
<ul>
<li>Distintos escenarios donde la Relación confusor Z vs P(Y):</li>
</ul>
<p><img src="figures/GrafoZY.png" alt="drawing" style="float: right;"></p>
<p><img data-src="figures/simulaciones_Z_Y.png" data-align="center" style="width:55.0%;height:55.0%"></p>
<aside class="notes">
<p>Por qué en comparación sobre otras técnicas?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="estudio-de-simulación-1" class="slide level2">
<h2>Estudio de simulación</h2>
<p>Estudio de simulación</p>

<img src="figures/grafo1.png" alt="drawing" style="float: right;" class="r-stretch"><p>Distintas aproximaciones para estimar el efecto de X sobre Y</p>
<div class="cell">

</div>
<table>
<thead>
<tr class="header">
<th><em>Descripción</em></th>
<th>Método</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1. Z Lineal (LogLineal)</td>
<td>Regresión</td>
</tr>
<tr class="even">
<td>2. Categorizando Z En quintiles (LogitCat)</td>
<td>Regresión</td>
</tr>
<tr class="odd">
<td>3. Fuciones polinómicas Z^3 (LogNoLineal)</td>
<td>Regresión</td>
</tr>
<tr class="even">
<td>4. Función no paramétrica s(Z) (GAM)</td>
<td>Regresión</td>
</tr>
<tr class="odd">
<td>5. Exacto</td>
<td>Matching exacto</td>
</tr>
<tr class="even">
<td>6. Subclasificación con descartes</td>
<td>Matching</td>
</tr>
<tr class="odd">
<td>7. Nearest- Neighbour</td>
<td>Matching N-N</td>
</tr>
</tbody>
</table>
</section>
<section id="estudio-de-simulación-2" class="slide level2">
<h2>Estudio de simulación</h2>
<p><em>Resultados escenario</em> <strong>Lineal</strong></p>
<p>Estimación de efecto nulo (OR=1) según el método de ajuste</p>

<img data-src="figures/Estimaciones_Esc_Lineal.png" width="328" class="r-stretch"></section>
<section id="estudio-de-simulación-3" class="slide level2">
<h2>Estudio de simulación</h2>
<p><em>Resultados escenario</em> <strong>No Lineal</strong></p>
<p>Estimación de efecto nulo (OR=1) según el método de ajuste</p>

<img data-src="figures/Estimaciones_Esc_NoLineal.png" width="329" class="r-stretch"></section>
<section id="estudio-de-simulación-4" class="slide level2">
<h2>Estudio de simulación</h2>
<p><em>Resultados escenario</em> <strong>No lineal</strong></p>
<p>Estimación de efecto nulo (OR=1) según el método de ajuste</p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="figures/Estimaciones_Esc_NoLineal2.png" width="330"></p>
</div>
</div>
<aside class="notes">
<p>Que passa en terminos de error de tipo I. Recordemos que estamos SABEMOS QUE NO HAY RELACIÓN ENTRE X - Y Por ejemplo les gusta ls pelis de almodobar o el chocolate y la depressión.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="estudio-de-simulación-5" class="slide level2">
<h2>Estudio de simulación</h2>
<p><strong>Error de tipo I empirico según escenario y método</strong></p>

<img data-src="figures/error_tipo1.png" width="260" class="r-stretch"></section>
<section id="estudio-de-simulación-6" class="slide level2">
<h2>Estudio de simulación</h2>
<p><strong>Tasa de falsos positivos según escenario y método</strong></p>

<img data-src="figures/taula_taxa_error.png" width="444" class="r-stretch"></section>
<section id="por-qué-fallan-algunos-modelos" class="slide level2">
<h2>¿Por qué fallan algunos modelos?</h2>
<div class="r-stack">
<p><img data-src="figures/Expectativa.png" class="fragment" style="width:120.0%;height:120.0%"></p>
<p><img data-src="figures/Expectativa_Realidad.png" class="fragment" style="width:120.0%;height:120.0%"></p>
<p><img data-src="figures/QualityReporting.jpg" class="fragment" style="width:100.0%;height:50.0%"></p>
</div>
<aside class="notes">
<p>Por qué No han hecho su mágia?</p>
<p>Basicamente por que los datos no reflejan lo que el modelo dice</p>
<p>Fallan sobre todo cuando el modelo està mal especificado. Como passaria con el ejemplo ilustrativo de la piscina.</p>
<p>I lo grave es que muchas veces nos creemos lo que dice el modelo sin verificarlo.</p>
<p>Es como si no abrieramos nunca la caja de la piscina, i nos quedampos con lo que dice el anuncio como válido.</p>
<p>Lo que se tendria que hacer es una denuncia i que hagan un modelo más acorde con la realidad. O mejorar los datos</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="tipos-de-matching" class="slide level2">
<h2>Tipos de matching</h2>
<ul>
<li class="fragment">Matching aproximado por frequencia (según una distancia)</li>
<li class="fragment">Matching exacto por frequencia</li>
<li class="fragment">Matching individual por densidad de incidencia</li>
</ul>
</section>
<section id="etapas-del-matching" class="slide level2">
<h2>Etapas del matching</h2>
<p><strong>4 fases</strong></p>
<p>Donde las tres primeras representan la fase de “diseño” y la última la de “análisis”</p>
<div>
<ol type="1">
<li class="fragment"><p>Distancia</p>
<ul>
<li class="fragment">Definición de la medida de proximidad o cercanía utilizada para determinar si dos observaciones son buenos pares.</li>
</ul></li>
<li class="fragment"><p>Algoritmo</p>
<ul>
<li class="fragment">Aplicación del algoritmo para la elección de observaciones y conformación de nuevos grupos, en base a la medida de proximidad elegida.</li>
</ul></li>
<li class="fragment"><p>Validación</p>
<ul>
<li class="fragment">Evaluación del equilibrio (calidad del matching) de los grupos emparejados. Si la calidad del matching no se satisface se repiten las etapas 1 y 2 hasta que los grupos puedan considerarse coincidentes.</li>
</ul></li>
<li class="fragment"><p>Análisis</p></li>
</ol>
</div>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="distancias" class="slide level2">
<h2>Distancias</h2>
<p>Métodos para calcular distancias de covariables</p>

<img data-src="figures/distances.png" class="r-stretch"></section>
<section id="distancias-1" class="slide level2">
<h2>Distancias</h2>
<p>Cual és la reina de las distancias?</p>
<p><img src="figures/grafo1.png" alt="drawing" style="float: right;"></p>
<div class="fragment">
<p><img data-src="figures/Reina_Isabel.png"></p>
</div>
<div class="fragment">
<p><span class="math inline">\(P(X)=Probabilidad(X=1/Z) = f(Z)\)</span></p>
<p><span class="math inline">\(Pr(Xi/Zi)=\frac{e^{g(Zi)} }{1+ e^{g(Zi)}}\)</span></p>
<!-- ![Model logit](figures/logit.png){.fragment width="65%" height="65%"} -->
</div>
<aside class="notes">
<p>La palabra màgica?</p>
<p>Propensity …… os suena?</p>
<ul>
<li><p>Rosenbaum y Rubin (1983) proponen una distancia llamada “propensity score”.</p></li>
<li><p>El propensity score convierte el problema multidimensional en un problema uni-dimensional Y así reduce el problema de la multi-dimensionalidad</p></li>
<li><p>El “PS” es la probabilidad condicional de estar en un grupo dadas una lista de variables observadas Z</p></li>
<li><p>La idea es que las observaciones que tienen la misma distancia/probabilidad de estar en un grupo tienen la misma distribución de covariables observables</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="algoritmos-de-agrupación" class="slide level2">
<h2>Algoritmos de agrupación</h2>
<ul>
<li>Exacto</li>
</ul>
<div style="font-size: 0.9em">
<pre><code>  Empareja cada unidad tratada con todas las posibles unidades del grupo control de manera que ambos grupos contengan exactamente los mismos valores según las covariables especificadas. Cuándo hay muchas covariables y/o las covariables pueden tomar un amplio rango de valores, exact matching puede no ser posible.</code></pre>
</div>
<ul>
<li>Nearest Neighbour (N-N)</li>
</ul>
<div style="font-size: 0.9em">
<pre><code>  Mejores controles emparejados para cada individuo tratado. Observaciones del grupo control lo más cercana a tratada según la distancia especificada. Misma distancia se selecciona aleatoriamente a uno de estos. La opción caliper (número de desviaciones estándar de la medida de la distancia) establece una distancia máxima entre grupos para ser seleccionados asegurando una igualdad mínima entre observaciones.</code></pre>
</div>
<ul>
<li>Subclassification (Subclas)</li>
</ul>
<div style="font-size: 0.9em">
<pre><code>Algoritmo que forma estratos, en función de la distribución de las distancias estimadas de tal manera que asegura la igualdad de distribuciones dentro de cada estrato según las covariables seleccionadas. Se pueden descartar observaciones para mejorar la igualdad de distribuciones dentro de cada estrato.</code></pre>
</div>
<ul>
<li>Otros métodos (Optimal, Full, Genetic etc..)</li>
</ul>
<aside class="notes">
<ul>
<li><p>Aquí tenemos un listado de algunos de los algoritmos utilizados</p></li>
<li><p>Algunos son parecidos a los que se usan en Clustering, tal como explicó Albert la última sessión</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="cell">

</div>
</section>
<section id="validación" class="slide level2">
<h2>Validación</h2>
<p>Evaluación del equilibrio (calidad del matching) de los grupos emparejados. Si la calidad del matching no se satisface se repiten las etapas 1 y 2 hasta que los grupos puedan considerarse coincidentes</p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="figures/Matching_persons_ML.PNG" width="464"></p>
</div>
</div>
<aside class="notes">
<ul>
<li><p>Para evaluar el equilibrio post matching lo primero que hariamos seria hacer un descriptivo comparativo entre grupos post matching. I comparar si ha habido cambios pre-post. No?</p></li>
<li><p>Por ejemplo si entre cuidadores i no cuidadores en la muestra inicial habia una diferencia de 7 años. Es de esperar que ahora esta diferencia se haya reducido.</p></li>
<li><p>Que metricas usamos para validar el reequilibrio?</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="validación-1" class="slide level2">
<h2>Validación</h2>
<p><strong>Estudio cuidadores</strong></p>
<p>Diferencias medias estandarizadas (SMD) por covariable. Se recomienda un SMD&lt;0.1.</p>
<p><img src="figures/Prohibit_p_valor.jpg" alt="drawing" width="150" height="150" style="float: right;"></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/Covariate_plot_cuidadors.png" class="fragment" style="width:65.0%;height:65.0%"></p>
<p></p><figcaption>Covariate plot</figcaption><p></p>
</figure>
</div>
<aside class="notes">
<ul>
<li><p>En realidad la medida que se usa para evaluar si ha equilibrado los grupos en relación a una variable seria la diferencia media estandarizada.</p></li>
<li><p>Si esta diferencia es inferior a 0.1 decimos que por esa variable hay equilibrio.</p></li>
<li><p>El p valor no es una medida de distancia</p></li>
<li><p>Para representar graficamente la mejora del equilibrio se hace mediante un covariate Plot, en el cual se representan estas diferencias antes i después del matching</p></li>
<li><p>Aquí tenemos el covariate plot del estudio de Cuidadores</p></li>
<li><p>7 Variables, que vienen representadas por 32 categorias</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="validación-2" class="slide level2">
<h2>Validación</h2>
<p>Evaluación de la calidad del equilibrio de las covariables basales después del matching</p>
<p><a href="https://dapcat.shinyapps.io/CVD_REAL/#section-covariate-plot">Estudio CVD Real Catalonia</a></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/Covariate_plot_CVDReal.png" class="fragment" style="width:100.0%;height:100.0%"></p>
<p></p><figcaption>Covariate plot</figcaption><p></p>
</figure>
</div>
</section>
<section id="como" class="slide level2">
<h2>Como?</h2>
<p><strong>Herramientas y grados de libertad</strong></p>
<ul>
<li><p>Software: Stata, R, SAS</p></li>
<li><p>Ratio de los grupos (1:1 hasta 1:4)</p></li>
<li><p>Distancia utilizada (PS, mahalanobis, euclidiana)</p></li>
<li><p>Algoritmo de agrupación (N-N, Exacto, óptimo, genético …..)</p></li>
<li><p>Descartes</p></li>
<li><p>Variables</p></li>
</ul>
</section>
<section id="variables" class="slide level2">
<h2>Variables</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Potenciales confusoras segun conocimiento previo</p></li>
<li><p>Número?</p>
<pre><code>- No hay límite. Cuantas más, más difícil encontrar buenos grupos</code></pre></li>
<li><p>No: outcomes secundarios, ni variables subrogadas</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="figures/same_dag_matching_regression.jpg" style="width:60.0%;height:60.0%"></p>
</div>
</div>
<aside class="notes">
<ul>
<li>Que variables incluimos?</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="herramientas" class="slide level2">
<h2>Herramientas</h2>
<p><strong>Paquete {Matchit} de R</strong> (version 4.4.0)</p>
<p><strong>Matching for Causal Inference</strong></p>
<p>Descripción</p>
<div style="font-size: 0.7em; text-align: left">
<p>matchit() is the main function of MatchIt and performs pairing, subset selection, and subclassification with the aim of creating treatment and control groups balanced on included covariates. MatchIt implements the suggestions of Ho, Imai, King, and Stuart (2007) for improving parametric statistical models by preprocessing data with nonparametric matching methods. MatchIt implements a wide range of sophisticated matching methods, making it possible to greatly reduce the dependence of causal inferences on hard-to-justify, but commonly made, statistical modeling assumptions. The software also easily fits into existing research practices since, after preprocessing with MatchIt, researchers can use whatever parametric model they would have used without MatchIt, but produce inferences with substantially more robustness and less sensitivity to modeling assumptions.</p>
</div>
<p>Función:</p>
<div style="font-size: 0.7em">
<p>matchit(formula, data = NULL, method = “nearest”, distance = “glm”, link = “logit”, distance.options = list(), estimand = “ATT”, exact = NULL, mahvars = NULL, antiexact = NULL, discard = “none”, reestimate = FALSE, s.weights = NULL, replace = FALSE, m.order = NULL, caliper = NULL, std.caliper = TRUE, ratio = 1, verbose = FALSE, …)</p>
</div>
<div class="cell">

</div>
<aside class="notes">
<p>caliper: for methods that allow it, the width(s) of the caliper(s) to use in matching. Should be a numeric vector with each value named according to the variable to which the caliper applies. To apply to the distance measure, the value should be unnamed. See the individual methods pages for information on whether and how this argument is used. The default is NULL for no caliper.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="matchit" class="slide level2">
<h2>MatchIt</h2>
<p>Ejemplo</p>
<div class="cell">
<div class="cell-output-display">

<table class="table table-striped table-condensed lightable-classic-2 table" style="width: auto !important; margin-left: auto; margin-right: auto; font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; margin-left: auto; margin-right: auto; font-size: 22px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">Summary descriptives table by groups of `treat'</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:center;"> 0 </th>
   <th style="text-align:center;"> 1 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-style: italic;border-bottom: 1px solid grey">  </td>
   <td style="text-align:center;font-style: italic;border-bottom: 1px solid grey"> N=429 </td>
   <td style="text-align:center;font-style: italic;border-bottom: 1px solid grey"> N=185 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> age </td>
   <td style="text-align:center;"> 28.0 (10.8) </td>
   <td style="text-align:center;"> 25.8 (7.16) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> educ </td>
   <td style="text-align:center;"> 10.2 (2.86) </td>
   <td style="text-align:center;"> 10.3 (2.01) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> race: </td>
   <td style="text-align:center;">  </td>
   <td style="text-align:center;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> black </td>
   <td style="text-align:center;"> 87 (20.3%) </td>
   <td style="text-align:center;"> 156 (84.3%) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> hispan </td>
   <td style="text-align:center;"> 61 (14.2%) </td>
   <td style="text-align:center;"> 11 (5.95%) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> white </td>
   <td style="text-align:center;"> 281 (65.5%) </td>
   <td style="text-align:center;"> 18 (9.73%) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> nodegree </td>
   <td style="text-align:center;"> 0.60 (0.49) </td>
   <td style="text-align:center;"> 0.71 (0.46) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> married </td>
   <td style="text-align:center;"> 0.51 (0.50) </td>
   <td style="text-align:center;"> 0.19 (0.39) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> re74 </td>
   <td style="text-align:center;"> 5619 (6789) </td>
   <td style="text-align:center;"> 2096 (4887) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> re75 </td>
   <td style="text-align:center;"> 2466 (3292) </td>
   <td style="text-align:center;"> 1532 (3219) </td>
  </tr>
</tbody>
</table>

</div>
</div>
<aside class="notes">
<p>Aproximación bàsica, intuitiva</p>
<p>PERO NO Se usan P-VALORES</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="matchit-1" class="slide level2">
<h2>MatchIt</h2>
<p>Ejemplo</p>
<p><img src="figures/Prohibit_p_valor.jpg" alt="drawing" width="150" height="150" style="float: right;"></p>
<div class="cell">
<div class="cell-output-display">

<table class="table table-striped table-condensed lightable-classic-2 table" style="width: auto !important; margin-left: auto; margin-right: auto; font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; margin-left: auto; margin-right: auto; font-size: 22px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">Summary descriptives table by groups of `treat'</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:center;"> 0 </th>
   <th style="text-align:center;"> 1 </th>
   <th style="text-align:center;"> p.overall </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-style: italic;border-bottom: 1px solid grey">  </td>
   <td style="text-align:center;font-style: italic;border-bottom: 1px solid grey"> N=429 </td>
   <td style="text-align:center;font-style: italic;border-bottom: 1px solid grey"> N=185 </td>
   <td style="text-align:center;font-style: italic;border-bottom: 1px solid grey">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> age </td>
   <td style="text-align:center;"> 28.0 (10.8) </td>
   <td style="text-align:center;"> 25.8 (7.16) </td>
   <td style="text-align:center;"> 0.003 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> educ </td>
   <td style="text-align:center;"> 10.2 (2.86) </td>
   <td style="text-align:center;"> 10.3 (2.01) </td>
   <td style="text-align:center;"> 0.585 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> race: </td>
   <td style="text-align:center;">  </td>
   <td style="text-align:center;">  </td>
   <td style="text-align:center;"> &lt;0.001 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> black </td>
   <td style="text-align:center;"> 87 (20.3%) </td>
   <td style="text-align:center;"> 156 (84.3%) </td>
   <td style="text-align:center;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> hispan </td>
   <td style="text-align:center;"> 61 (14.2%) </td>
   <td style="text-align:center;"> 11 (5.95%) </td>
   <td style="text-align:center;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> white </td>
   <td style="text-align:center;"> 281 (65.5%) </td>
   <td style="text-align:center;"> 18 (9.73%) </td>
   <td style="text-align:center;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> nodegree </td>
   <td style="text-align:center;"> 0.60 (0.49) </td>
   <td style="text-align:center;"> 0.71 (0.46) </td>
   <td style="text-align:center;"> 0.007 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> married </td>
   <td style="text-align:center;"> 0.51 (0.50) </td>
   <td style="text-align:center;"> 0.19 (0.39) </td>
   <td style="text-align:center;"> &lt;0.001 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> re74 </td>
   <td style="text-align:center;"> 5619 (6789) </td>
   <td style="text-align:center;"> 2096 (4887) </td>
   <td style="text-align:center;"> &lt;0.001 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> re75 </td>
   <td style="text-align:center;"> 2466 (3292) </td>
   <td style="text-align:center;"> 1532 (3219) </td>
   <td style="text-align:center;"> 0.001 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="matchit-2" class="slide level2">
<h2>MatchIt</h2>
<p><strong>Paquete MatchIt de R (version 4.4.0)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>dt_temp<span class="ot">&lt;-</span>lalonde <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">idp=</span><span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>())</span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a>m.out1 <span class="ot">&lt;-</span> <span class="fu">matchit</span>(treat <span class="sc">~</span> age <span class="sc">+</span> educ <span class="sc">+</span> race <span class="sc">+</span> nodegree <span class="sc">+</span> married <span class="sc">+</span> re74 <span class="sc">+</span> re75, </span>
<span id="cb5-6"><a href="#cb5-6"></a>                  <span class="at">exact =</span> <span class="sc">~</span> race <span class="sc">+</span> married,</span>
<span id="cb5-7"><a href="#cb5-7"></a>                  <span class="at">distance =</span> <span class="st">"glm"</span>,</span>
<span id="cb5-8"><a href="#cb5-8"></a>                  <span class="at">method =</span> <span class="st">"nearest"</span>,</span>
<span id="cb5-9"><a href="#cb5-9"></a>                  <span class="at">discard =</span> <span class="st">"both"</span>,</span>
<span id="cb5-10"><a href="#cb5-10"></a>                  <span class="at">ratio =</span>  <span class="dv">1</span>,</span>
<span id="cb5-11"><a href="#cb5-11"></a>                  <span class="at">caliper =</span> .<span class="dv">1</span>,</span>
<span id="cb5-12"><a href="#cb5-12"></a>                  <span class="co"># unit.id="idp",</span></span>
<span id="cb5-13"><a href="#cb5-13"></a>                  <span class="at">data =</span> dt_temp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="matchit-3" class="slide level2">
<h2>MatchIt</h2>
<p><strong>Paquete MatchIt de R (version 4.4.0)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>m.out1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>A matchit object
 - method: 1:1 nearest neighbor matching without replacement
 - distance: Propensity score [caliper, common support]
             - estimated with logistic regression
 - caliper: &lt;distance&gt; (0.029)
 - common support: units from both groups dropped
 - number of obs.: 614 (original), 212 (matched)
 - target estimand: ATT
 - covariates: age, educ, race, nodegree, married, re74, re75</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>pp<span class="ot">&lt;-</span><span class="fu">summary</span>(m.out1)</span>
<span id="cb8-2"><a href="#cb8-2"></a>pp<span class="sc">$</span>nn</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              Control Treated
All (ESS)         429     185
All               429     185
Matched (ESS)     106     106
Matched           106     106
Unmatched         266      71
Discarded          57       8</code></pre>
</div>
</div>
</section>
<section id="matchit-4" class="slide level2">
<h2>MatchIt</h2>
<p><strong>Validación</strong></p>
<div class="cell">
<div class="cell-output-display">

<table class="table table-striped table-condensed lightable-classic-2 table" style="width: auto !important; margin-left: auto; margin-right: auto; font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; margin-left: auto; margin-right: auto; font-size: 22px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">Summary descriptives table by groups of `treat'</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:center;"> 0 </th>
   <th style="text-align:center;"> 1 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-style: italic;border-bottom: 1px solid grey">  </td>
   <td style="text-align:center;font-style: italic;border-bottom: 1px solid grey"> N=106 </td>
   <td style="text-align:center;font-style: italic;border-bottom: 1px solid grey"> N=106 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> age </td>
   <td style="text-align:center;"> 25.3 (10.2) </td>
   <td style="text-align:center;"> 26.1 (6.87) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> educ </td>
   <td style="text-align:center;"> 10.4 (2.78) </td>
   <td style="text-align:center;"> 10.4 (2.06) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> race: </td>
   <td style="text-align:center;">  </td>
   <td style="text-align:center;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> black </td>
   <td style="text-align:center;"> 77 (72.6%) </td>
   <td style="text-align:center;"> 77 (72.6%) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> hispan </td>
   <td style="text-align:center;"> 11 (10.4%) </td>
   <td style="text-align:center;"> 11 (10.4%) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> white </td>
   <td style="text-align:center;"> 18 (17.0%) </td>
   <td style="text-align:center;"> 18 (17.0%) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> nodegree </td>
   <td style="text-align:center;"> 0.62 (0.49) </td>
   <td style="text-align:center;"> 0.65 (0.48) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> married </td>
   <td style="text-align:center;"> 0.20 (0.40) </td>
   <td style="text-align:center;"> 0.20 (0.40) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> re74 </td>
   <td style="text-align:center;"> 2578 (4476) </td>
   <td style="text-align:center;"> 2139 (4137) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> re75 </td>
   <td style="text-align:center;"> 1739 (2882) </td>
   <td style="text-align:center;"> 1707 (3788) </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="matchit-5" class="slide level2">
<h2>MatchIt</h2>
<p><strong>Validación</strong></p>
<p><img src="figures/Prohibit_p_valor.jpg" alt="drawing" width="150" height="150" style="float: right;"></p>
<div class="cell">
<div class="cell-output-display">

<table class="table table-striped table-condensed lightable-classic-2 table" style="width: auto !important; margin-left: auto; margin-right: auto; font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; margin-left: auto; margin-right: auto; font-size: 22px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">Summary descriptives table by groups of `treat'</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:center;"> 0 </th>
   <th style="text-align:center;"> 1 </th>
   <th style="text-align:center;"> p.overall </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-style: italic;border-bottom: 1px solid grey">  </td>
   <td style="text-align:center;font-style: italic;border-bottom: 1px solid grey"> N=106 </td>
   <td style="text-align:center;font-style: italic;border-bottom: 1px solid grey"> N=106 </td>
   <td style="text-align:center;font-style: italic;border-bottom: 1px solid grey">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> age </td>
   <td style="text-align:center;"> 25.3 (10.2) </td>
   <td style="text-align:center;"> 26.1 (6.87) </td>
   <td style="text-align:center;"> 0.509 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> educ </td>
   <td style="text-align:center;"> 10.4 (2.78) </td>
   <td style="text-align:center;"> 10.4 (2.06) </td>
   <td style="text-align:center;"> 0.911 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> race: </td>
   <td style="text-align:center;">  </td>
   <td style="text-align:center;">  </td>
   <td style="text-align:center;"> 1.000 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> black </td>
   <td style="text-align:center;"> 77 (72.6%) </td>
   <td style="text-align:center;"> 77 (72.6%) </td>
   <td style="text-align:center;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> hispan </td>
   <td style="text-align:center;"> 11 (10.4%) </td>
   <td style="text-align:center;"> 11 (10.4%) </td>
   <td style="text-align:center;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> white </td>
   <td style="text-align:center;"> 18 (17.0%) </td>
   <td style="text-align:center;"> 18 (17.0%) </td>
   <td style="text-align:center;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> nodegree </td>
   <td style="text-align:center;"> 0.62 (0.49) </td>
   <td style="text-align:center;"> 0.65 (0.48) </td>
   <td style="text-align:center;"> 0.670 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> married </td>
   <td style="text-align:center;"> 0.20 (0.40) </td>
   <td style="text-align:center;"> 0.20 (0.40) </td>
   <td style="text-align:center;"> 1.000 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> re74 </td>
   <td style="text-align:center;"> 2578 (4476) </td>
   <td style="text-align:center;"> 2139 (4137) </td>
   <td style="text-align:center;"> 0.459 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> re75 </td>
   <td style="text-align:center;"> 1739 (2882) </td>
   <td style="text-align:center;"> 1707 (3788) </td>
   <td style="text-align:center;"> 0.945 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="matchit-6" class="slide level2">
<h2>MatchIt</h2>
<p><strong>Validación</strong></p>

<img data-src="Presentacio_quarto_files/figure-revealjs/unnamed-chunk-24-1.png" width="960" class="r-stretch"></section>
<section id="muestreo-por-densidad-de-incidencia" class="slide level2">
<h2>Muestreo por densidad de incidencia</h2>
<p><strong>Matching individual/exacto</strong></p>
<p>Apareamiento por densidad de incidencia</p>
<div>
<ul>
<li class="fragment">Diseño: Caso-control anidado / Cohorte dinámica (o abierta)</li>
<li class="fragment">Los controles se seleccionan a medida que se producen los casos (Matching on time)</li>
<li class="fragment">Se construyen conjuntos de riesgo emparejados</li>
<li class="fragment">Los controles pueden ser remuestrados(más de una vez por caso)</li>
<li class="fragment">Los controles se pueden convertir en casos</li>
</ul>
</div>
<aside class="notes">
<ul>
<li><p>Vamos a ver otro tipo de muestreo.</p></li>
<li><p>Lo que hemos visto hasta ahora, es matching por frequencia, donde tenemos identificados i caracterizados todos los sujetos en un momento concreto. y reequilibras la distribución de covariables por frequencia sin identificar grupos a riesgo.</p></li>
<li><p>Por ejemplo en el tema de los cuidadores. Teniamos se BD ENSE el dia que hacen la enquesta todas sus caracteristicas.</p></li>
<li><p>El estudio de antidiabeticos, teniamos para cada individuo su fecha de inclusión (fechas de inicio de tratamiento) i caracterizados todos los sujetos potenciales, edad antecedentes CV, farmacos etc…</p></li>
</ul>
<p>Que passa cuándo no tenemos los controles (o uno de los grupos) identificados aun? o por fecha?</p>
<p>Por ejemplo un estudio caso control , donde si podemos identificar los casos, con su fecha i definir su edad caracteristicas etc… Però aun no estan seleccionados los potenciales controles? por lo tanto no sabemos su fecha i por lo tanto que caracterización tienen en su momento de inclusión?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="muestreo-por-densidad-de-incidencia-1" class="slide level2">
<h2>Muestreo por densidad de incidencia</h2>
<p><strong>Muestreo por densidad de incidencia</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/Matching_density_incidence.PNG" width="330"></p>
<p></p><figcaption>Esquema de seleccion de casos</figcaption><p></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>Aquí vemos un esquema de muestreo por densidad de incidecia. Por ejemplo imaginemos que queremos buscar grupos de DM’s incidentes i sus controles respectivos.</p>
<ul>
<li><p>Aquí tenemos como van apareciendo los casos durante la fase de reclutamitneo. El primer caso que aparece es la senyora Manuela en el mes 3. Aquí buscamos una señora entre todas las potenciales Controles i disponibles.</p></li>
<li><p>Por lo tanto seleccionamos la señora Paquita del mismo año de nacimiento.</p></li>
<li><p>El siguiente caso en aparecer es el señor Gustavo el mes 4. Entre todos los hombres mismo año nacimiento buscamos su homologo en fecha y encontramos a Felipe (coetanio).</p></li>
<li><p>Y seguimos todo el proceso hasta tener todos los grupos a riesgo.</p></li>
<li><p>Fijaros que Don Felipe que era control de Gustavo, a los 12 meses se le diagnostica una diabetis, con lo cual este passa a ser caso y se procede a buscar su pareja de vaile ya que no se ha descartado.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="muestreo-por-densidad-de-incidencia-2" class="slide level2">
<h2>Muestreo por densidad de incidencia</h2>
<p><strong>Ejemplo: Cohorte dinámica</strong></p>
<p><a href="https://jrealgatius.github.io/TBC_ANALISIS/codi/shiny/DashBoard_TB.html#sampling-and-follow-up-sheeme">Estudio DM_TBC</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">library</span>(Macedonia)</span>
<span id="cb10-2"><a href="#cb10-2"></a>dat2<span class="ot">&lt;-</span>Macedonia<span class="sc">::</span><span class="fu">match_density_incidence</span>(<span class="at">dt=</span>Macedonia<span class="sc">::</span>dat,</span>
<span id="cb10-3"><a href="#cb10-3"></a>                          <span class="at">id=</span><span class="st">"idp"</span>,</span>
<span id="cb10-4"><a href="#cb10-4"></a>                          <span class="at">llistaPS=</span><span class="fu">c</span>(<span class="st">"sex"</span>),</span>
<span id="cb10-5"><a href="#cb10-5"></a>                          <span class="at">eventcontrol=</span><span class="cn">TRUE</span>,</span>
<span id="cb10-6"><a href="#cb10-6"></a>                          <span class="at">reemplacement=</span><span class="cn">FALSE</span>,</span>
<span id="cb10-7"><a href="#cb10-7"></a>                          <span class="at">numcores=</span><span class="cn">NA</span>,</span>
<span id="cb10-8"><a href="#cb10-8"></a>                          <span class="at">Ncontrols=</span><span class="dv">1</span>,</span>
<span id="cb10-9"><a href="#cb10-9"></a>                          <span class="at">seed=</span><span class="dv">123</span>)</span>
<span id="cb10-10"><a href="#cb10-10"></a>dat<span class="sc">$</span>idp <span class="sc">%&gt;%</span> <span class="fu">length</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>dat2<span class="sc">$</span>idp <span class="sc">%&gt;%</span> <span class="fu">length</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 18</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>dat2 <span class="sc">%&gt;%</span> <span class="fu">head</span>() <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(diabetes,heartdis,byear)) <span class="sc">%&gt;%</span> kableExtra<span class="sc">::</span><span class="fu">kable</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_classic_2</span>() <span class="sc">%&gt;%</span> kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(<span class="at">font_size =</span> <span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class=" lightable-classic-2 table" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; margin-left: auto; margin-right: auto; font-size: 15px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> idp </th>
   <th style="text-align:right;"> .caseid </th>
   <th style="text-align:right;"> .dtindex </th>
   <th style="text-align:right;"> .event </th>
   <th style="text-align:right;"> .n </th>
   <th style="text-align:right;"> event </th>
   <th style="text-align:left;"> sex </th>
   <th style="text-align:right;"> dtindex_case </th>
   <th style="text-align:right;"> dtindex_control </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> P41 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> fem </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:left;"> P20 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> fem </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 20 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> P42 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> fem </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:left;"> P13 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> fem </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 13 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> P43 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> fem </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:left;"> P19 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> fem </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 19 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<aside class="notes">
<ul>
<li><p>Aquí tenemos un ejemplo con las rutinas que programamos.</p></li>
<li><p>La tenemos dentro de un paquete que se llama Macedonia. Le tienes que tener en cuenta los potenciales casos, con sus fechas, y el resto es importante las fechas de censura, o sea hasta cuando un control puede ser seleccionado como pareja.</p></li>
<li><p>Por ejemplo si una persona fallece, a partir de este momento no se puede seleccionar.</p></li>
<li><p>También si un caso puede ser seleccionado como control, antes de serlo y si los controles puede son reemplazables o no.</p></li>
<li><p>Genera grupos a riesgo, de forma exacta, y como son procesos altamente intensivos computacionalmente, nosotros incluimos la posibilidad de trabajar en distintos nucleos del ordenador. Ya que con Bases de datos grandes pueden tardar dias.</p></li>
<li><p>Otro parámetro es el de la semilla de aleatorización por si hay que repetir el proceso y que salga el mismo resultado. El</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="muestreo-por-densidad-de-incidencia-3" class="slide level2">
<h2>Muestreo por densidad de incidencia</h2>
<p><strong>Ejemplo: Caso-Control</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>dades<span class="ot">&lt;-</span><span class="fu">readRDS</span>(<span class="st">"dades_setMatch.Rds"</span>)</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="co"># data de censura en els casos com a molt la data de CAS </span></span>
<span id="cb15-3"><a href="#cb15-3"></a>dades<span class="ot">&lt;-</span>dades <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">dtindex_control=</span><span class="fu">ifelse</span>(event<span class="sc">==</span><span class="dv">1</span>,dtindex_case,dtindex_control))</span>
<span id="cb15-4"><a href="#cb15-4"></a>llistaPS<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"sexe"</span>,<span class="st">"year_DM2"</span>,<span class="st">"year_naix"</span>)</span>
<span id="cb15-5"><a href="#cb15-5"></a></span>
<span id="cb15-6"><a href="#cb15-6"></a>dt_aparellada<span class="ot">&lt;-</span><span class="fu">match_density_incidence</span>(dades,</span>
<span id="cb15-7"><a href="#cb15-7"></a>                                       <span class="at">id=</span><span class="st">"id"</span>,</span>
<span id="cb15-8"><a href="#cb15-8"></a>                                       <span class="at">llistaPS=</span>llistaPS,</span>
<span id="cb15-9"><a href="#cb15-9"></a>                                       <span class="at">eventcontrol =</span> T,</span>
<span id="cb15-10"><a href="#cb15-10"></a>                                       <span class="at">reemplacement=</span>F,</span>
<span id="cb15-11"><a href="#cb15-11"></a>                                       <span class="at">Ncontrols =</span> <span class="dv">10</span>,</span>
<span id="cb15-12"><a href="#cb15-12"></a>                                       <span class="at">seed=</span><span class="dv">131</span>)</span>
<span id="cb15-13"><a href="#cb15-13"></a>dades <span class="sc">%&gt;%</span> <span class="fu">n_distinct</span>(<span class="st">"id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 400</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>dt_aparellada <span class="sc">%&gt;%</span> <span class="fu">n_distinct</span>(<span class="st">"id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>dt_aparellada <span class="sc">%&gt;%</span> <span class="fu">select</span>(id,.caseid,.dtindex,.event,.n,<span class="at">Fecha_caso=</span>dat_cas,llistaPS) <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="fu">mutate</span>(<span class="at">.dtindex=</span>lubridate<span class="sc">::</span><span class="fu">as_date</span>(.dtindex)) <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="fu">head</span>(<span class="dv">5</span>) <span class="sc">%&gt;%</span> kableExtra<span class="sc">::</span><span class="fu">kable</span>() <span class="sc">%&gt;%</span> kableExtra<span class="sc">::</span><span class="fu">kable_classic</span>() <span class="sc">%&gt;%</span> kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(<span class="at">font_size =</span> <span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class=" lightable-classic table" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; margin-left: auto; margin-right: auto; font-size: 15px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:right;"> id </th>
   <th style="text-align:right;"> .caseid </th>
   <th style="text-align:left;"> .dtindex </th>
   <th style="text-align:right;"> .event </th>
   <th style="text-align:right;"> .n </th>
   <th style="text-align:left;"> Fecha_caso </th>
   <th style="text-align:left;"> sexe </th>
   <th style="text-align:right;"> year_DM2 </th>
   <th style="text-align:right;"> year_naix </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 299 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 2012-09-13 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 2012-09-13 </td>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 2004 </td>
   <td style="text-align:right;"> 1929 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 214 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 2012-09-13 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 2017-06-15 </td>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 2004 </td>
   <td style="text-align:right;"> 1929 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 35 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 2012-09-13 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> NA </td>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 2004 </td>
   <td style="text-align:right;"> 1929 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 400 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:left;"> 2013-04-11 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 2013-04-11 </td>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 2004 </td>
   <td style="text-align:right;"> 1931 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 226 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:left;"> 2013-04-11 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> NA </td>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 2004 </td>
   <td style="text-align:right;"> 1931 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="cuándo-no" class="slide level2">
<h2>¿Cuándo No?</h2>
<div>
<ul>
<li class="fragment"><p>Muestras insuficientes (“pequeñas”)</p></li>
<li class="fragment"><p>Objetivos</p>
<ul>
<li class="fragment"><p>Descriptivos</p>
<pre><code>  - Multivariantes: Clustering, PCA, factorial</code></pre></li>
<li class="fragment"><p>Estimar parámetros poblacionales (ej.prevalencia)</p></li>
<li class="fragment"><p>Predictivos</p></li>
</ul></li>
<li class="fragment"><p>Múltiples hipótesis / objetivos</p></li>
</ul>
</div>
<aside class="notes">
<ul>
<li><p>ESTUDIOS PEQUEÑOS. Con pocas covariables las posibles combinaciones pueden hacer inviable conseguir una muestra emparejada. Pensad que solo para encontrar una muestra emparejada con 10 variables binarias necessitariamos un minimo de 1024 combinaciones, por lo tanto un minimo de 1000 por grupo = 2000</p></li>
<li><p>Estudio tipo: prevalencia de X y factores asociados</p></li>
<li><p>MODELO PREDICTIVO: Lo que realmente interesa es que classifique bien, sin buscar interpretabilidad de los predictores (ni causalidad) Require toda la poblacion i que ésta esté bien representada. El enfoque no es sobre un unico predictor</p></li>
<li><p>Múltiples hipótesis:</p></li>
</ul>
<p>Ejemplo COVID</p>
<p>Tenemos una base de datos de COVID y queremos</p>
<ol type="1">
<li>Incidencia de casos De CODID</li>
<li>Evaluar pronostico / complicaciones del COVID</li>
<li>Efectividad de la vacuna contra el COVID i/o la vacuna de la gripe proteje contra la infección o contra las omplicaciones generada</li>
<li>Evaluar el rendimiento de un test diagnostico</li>
<li>Hacer un Score de riesgo i modelos predictivos etc…</li>
<li>Tendencia en la evolución de la mortalidad por COVID</li>
<li>ver si los COVID persistentes tiene los ojos azules</li>
</ol>
<p>….</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="cuándo-no-1" class="slide level2">
<h2>¿Cuándo No?</h2>
<p>Hipótesis / objetivos múltiples</p>
<p><img data-src="figures/Pizza_post_Reviewers.jpg" style="width:50.0%;height:50.0%"></p>
<aside class="notes">
<p>És lícito, hacerse muchas preguntas sobre investigación clínia Pero….. hay riesgo de que nos salga esto.</p>
<p>Esto podria ser el resultado de un Paper estilo Frankentain / Protocolo con multiples hipotesis</p>
<p>Se hace dificil imaginar que con una misma receta podamos concinar multiples platos i que salgan todos buenos.</p>
<p>Misma temperatura del horno, tiempo de cocción etc…</p>
<p>En definitiva si tenemos muchas preguntas i/o No sabemos muy bien lo que queremos, no tienen sentido aplicar este tipo aproximación</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="cuándo-sí" class="slide level2">
<h2>¿Cuándo Sí?</h2>
<div>
<ul>
<li class="fragment"><p>Objetivos analíticos confirmatorios</p></li>
<li class="fragment"><p>Inferencia causal</p></li>
<li class="fragment"><p>Diseños</p>
<ul>
<li class="fragment">Transversal/Cohortes /Caso-control</li>
</ul></li>
<li class="fragment"><p>Variable principal (X o Y) de agrupación de naturaleza categórica (preferentemente binaria)<sup>1</sup></p></li>
<li class="fragment"><p>Estudio comparativo aislando factores ya conocidos</p></li>
</ul>
</div>
<aside class="notes">
<ul>
<li><p>Del mismo modo que Dicotomizar una variable de naturaleza continua y analizarla es totalmente ineficiente a nivel estadístico ya que perdemos información. Tampoco lo seria para hacer matching con esta. Pues hay otras formas más inteligentes de analizarla.</p></li>
<li><p>Ejemplos de mala praxis serian:</p></li>
<li><p>Utilizar buen o mal control de la Hb1AC si disponemos la HbA1c , Bajada ràpida de la HB (Si/No) cuando disponemos de la reducción absoluta. Obesidad (Si/No) como una categorización del IMC</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><ol class="aside-footnotes"><li id="fn2" role="doc-endnote"><p>Altman DG, Royston P. The cost of dichotomising continuous variables. BMJ. 2006 May 6;332(7549):1080. doi: 10.1136/bmj.332.7549.1080. PMID: 16675816; PMCID: PMC1458573.</p></li></ol></aside></section>
<section id="para-concluir" class="slide level2">
<h2>Para concluir…</h2>
<p>Razones</p>
<div>
<ul>
<li class="fragment"><p><span style="color: green">Simplicidad</span></p></li>
<li class="fragment"><p><span style="color: green">Facilidad de evaluar su viabilidad</span></p></li>
<li class="fragment"><p><span style="color: green">Evaluar grado de solapamiento</span></p></li>
<li class="fragment"><p><span style="color: red">Conclusiones contextuales</span></p></li>
</ul>
</div>
<aside class="notes">
<ul>
<li><p>Es más simple determinar si el modelo ha sido adecuadamente especificado (solo con verificar la homogeneidad de los grupos después del matching.</p></li>
<li><p>Se puede examinar explícitamente el grado de solapamiento o superposición de la distribución de las covariables entre los grupos. Si hay substanciales diferencias de las covariables entre grupos, estas serán evidentes, dado el pequeño número de sujetos emparejados.</p></li>
<li><p>Las conclusiones validas en el contexto de la muestra finalmente analizada i por lo tanto a las características de la población matcheadas</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="para-concluir-1" class="slide level2">
<h2>Para concluir…</h2>
<div>
<ul>
<li class="fragment"><p>Modelos paramétricos funcionan, pero …..</p></li>
<li class="fragment"><p>Modelos semiparamétricos funcionan mejor</p></li>
<li class="fragment"><p>Robustez de los métodos Matching</p></li>
<li class="fragment"><p>Analisis dirigido a un objetivo concreto</p></li>
<li class="fragment"><p>Separan el diseño del análisis</p>
<ul>
<li class="fragment">El outcome es invisible al investigador</li>
</ul></li>
</ul>
</div>
<aside class="notes">
<ul>
<li><p>Riesgo de sesgo en métodos paramétricos</p></li>
<li><p>La estimación paramétrica con GLM (Reg logística), como método de ajuste en presencia de confusión, puede resultar muy sesgada si el modelo esta mal seleccionado</p></li>
<li><p>La estimación mediante un modelo GAM (Semi paramétricos) proporciona mejores resultados que los GLM paramétricos en términos de reducción del sesgo de confusión</p></li>
<li><p>Mayor robustez de los metodos Matching</p></li>
<li><p>Menor tasa de falsos positivos, estimaciones más creibles con menor sesgo</p></li>
<li><p>Análisis dirigido a un objetivo concreto.</p></li>
</ul>
<p>O sea estos metodos solo sirven para evaluar un objetivo concreto. ESTADISTICA DE PRECISIÓN</p>
<ul>
<li><p>Cuándo se usan las técnicas de matching, la construcción de los grupos se puede realizar sin ninguna referencia al outcome. Solamente una vez se acepta el equilibrio de los grupos se realiza la estimación del efecto del tratamiento sobre el outcome.</p></li>
<li><p>Sin embargo, cuándo utilizamos técnicas de regresión, el outcome siempre está visible, y el investigador se enfrenta continuamente a la sutil tentación de modificar el modelo de regresión hasta que se alcanza el resultado esperado.</p></li>
<li><p>Al inicio de la presentación de la importancia de la pregunta i el objetivo.</p></li>
<li><p>Otra cosa que es importante es si lo que realmente vemos en los datos i nuestro analisis sea lo que realmente és i no siempre lo que queramos ver, intentando evitar un poco el sesgo de confirmación</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="conclusiones" class="slide level2">
<h2>Conclusiones</h2>
<p><img data-src="figures/sesgo_confirmacion.jpg" style="width:50.0%;height:50.0%"></p>
<aside class="notes">
<p>Evitando el sesgo de confirmación.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="conclusiones-1" class="slide level2">
<h2>Conclusiones</h2>
<p>Sesgo de confirmación</p>
<p><img data-src="figures/Homer_simpson.gif" style="width:50.0%;height:50.0%"></p>
<aside class="notes">
<ul>
<li><p>Aquí tenemos a Homer Simpson con otro sesgo de confirmación.</p></li>
<li><p>La verdad o realidad en investigación es muy dificil de saber, pero lo que tenemos que hacer es</p></li>
<li><p>Un esfuerzo en ser objetivo y si nuestro analisis no confirma nuestra hipótesis preguntar-se Poqué no forzar el analisis para que salga lo que nosotros creemos que tendria que salir.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="muchas-grácias" class="slide level2">
<h2>Muchas grácias</h2>
<p>Último MEME</p>
<p><img data-src="figures/Tobogan_quadrat.gif" style="width:50.0%;height:50.0%"></p>
<aside class="notes">
<p>Espero no haberos mareado mucho con tanto matching</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="bibliografía" class="slide level2">
<h2>Bibliografía</h2>
<div style="font-size: 0.6em">
<ul>
<li><p>Rosenbaum, P.R. and D.B. Rubin (1983), “The Central Role of the Propensity Score in Observational Studies for Causal Effects”, Biometrika 70, 1, 41–55.</p></li>
<li><p>Ho DE, Imai K, King G, Stuart EA. Matching as nonparametric preprocessing for reducing model dependence in parametric causal inference. Political analysis 2007;15(3):199-236.</p></li>
<li><p>Martens EP, Pestman WR, de Boer A, Belitser SV, Klungel OH. Systematic differences in treatment effect estimates between propensity score methods and logistic regression. Int J Epidemiol 2008 Oct;37(5):1142-1147.</p></li>
<li><p>Kurth T, Walker AM, Glynn RJ, Chan KA, Gaziano JM, Berger K, et al.&nbsp;Results of multivariable logistic regression, propensity matching, propensity adjustment, and propensity-based weighting under conditions of nonuniform effect. Am J Epidemiol 2006 Feb 1;163(3):262-270.</p></li>
<li><p>Austin PC. The performance of different propensity score methods for estimating marginal odds ratios. Stat Med 2007;26(16):3078-3094.</p></li>
<li><p>Stuart EA. Matching methods for causal inference: A review and a look forward. Stat Sci 2010 Feb 1;25(1):1-21.</p></li>
<li><p>King G, Nielsen R, Coberley C, Pope JE, Wells A. Comparative effectiveness of matching methods for causal inference. Unpublished manuscript 2011;15.</p></li>
<li><p>King G, Nielsen R. Why propensity scores should not be used for matching. Copy at http://j.mp/1sexgVw Download Citation BibTex Tagged XML Download Paper 2016;378.</p></li>
<li><p>King G, Lucas C, Nielsen R, King G, Pan J, Roberts M, et al.&nbsp;The Balance-Sample Size Frontier in Matching Methods for Causal Inference}. PS: Political Science and Politics} 2014;42:S11-S22. Pearce N. Analysis of matched case-control studies. BMJ 2016 Feb 25;352:i969</p></li>
<li><p>Real J, Forné C, Roso-Llorach A, Martínez-Sánchez JM. Quality Reporting of Multivariable Regression Models in Observational Studies: Review of a Representative Sample of Articles Published in Biomedical Journals. Medicine (Baltimore). 2016 May;95(20)</p></li>
<li><p>González-de Paz L, Real J, Borrás-Santos A, Martínez-Sánchez JM, Rodrigo-Baños V, Dolores Navarro-Rubio M. Associations between informal care, disease, and risk factors: A Spanish country-wide population-based study. J Public Health Policy. 2016 May;37(2):173-89. doi: 10.1057/jphp.2016.3. Epub 2016 Feb 11. PubMed PMID: 26865318.</p></li>
<li><p>Altman DG, Royston P. The cost of dichotomising continuous variables. BMJ. 2006 May 6;332(7549):1080. doi: 10.1136/bmj.332.7549.1080. PMID: 16675816; PMCID: PMC1458573.</p></li>
</ul>
</div>
</section>
<section id="material-extra" class="slide level2">
<h2>Material extra</h2>
<p><img data-src="figures/captura_article_lesio_renal2.png"></p>
<p><img src="logos/Logo_dapcat_idiap.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>Métodos de Matching en estudios retrospectivos</p>
</div>
</section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Presentacio_quarto_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Presentacio_quarto_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Presentacio_quarto_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Presentacio_quarto_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Presentacio_quarto_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Presentacio_quarto_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Presentacio_quarto_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Presentacio_quarto_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Presentacio_quarto_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Presentacio_quarto_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>